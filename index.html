<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>hello phaser!</title>
    <script src="//cdn.jsdelivr.net/phaser/2.5.0/phaser.min.js"></script>
  </head>
  <body>
    <script type="text/javascript">
      window.onload = function() {
        var game = new Phaser.Game(300, 500, Phaser.CANVAS, '', { preload: preload, create: create });
        var on = false;
        var music;

        function preload () {
          game.load.image('play', 'play-button.svg');
          game.load.audio('test', '/music/chopin/c0.mp3');
        }

        function create () {
          game.stage.backgroundColor = "#336600";
          questionText = game.add.text(10, 10, "Did Chopin write this?", { font: "20px Arial" });
          music = game.add.audio('test');
          button = game.add.button(10,100,'play',play,this);
          button.scale.setTo(0.5,0.5);

          var text1 = game.add.text(10, 400-10, "Yes, Chopid did.", { font: "20px Arial" });
          var text2 = game.add.text(10, 400-60, "No, Mozart did.", { font: "20px Arial" });
          text1.inputEnabled = true;
          text2.inputEnabled = true;
          text1.events.onInputDown.add(function() { checkAnswer(true) }, this);
          text2.events.onInputDown.add(function() { checkAnswer(false) }, this);
        }

        function checkAnswer(answer) {
          if (answer) {
            nextSong();
          } else {
            tryAgain();
          }
        }

        function play(button) {
          on = !on;
          if (on) {
            music.play();
          } else {
            music.stop();
          }
        }

        function nextSong() {
          alert('Good job!');
        }

        function tryAgain() {
          alert('Try again please...');
        }
      };
    </script>
  </body>
</html>
